<html>
	<head>
		<link rel="stylesheet" type="text/css" href="/css/reset.css">
		<link rel="stylesheet" type="text/css" href="/css/responsive.css">
		<link rel="stylesheet" type="text/css" href="/css/game.css">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>
	<body>
		<div id="app" v-bind:class="{[display]:true}">
			<div class="content">
				<transition name="blobSwitch">
					<div v-if="state == 'dashboard'">
						<header>
							<p class="avatar">{{ user.address | addressToAvatar }}</p>
							<button style="float:right" v-on:click="logout">Log out</button>
						</header>
					</div>
				</transition>
				<transition name="blobSwitch">
					<div v-if="state == 'loading'">
						<h1>
							Loading...
						</h1>
						<p>
							{{status}}
						</p>
					</div>
				</transition>
				<transition name="blobSwitch">
					<div v-if="state == 'decryptWallet'">
						<h1>Please enter your password</h1>
						<p>Your avatar is <span class="avatar">{{user.address | addressToAvatar}}</span></p>
						<input v-on:keyup.enter="decryptWallet" id="decryptPassword" placeholder="Type a password" type="password"/>
						<span class="error">{{error}}</span>
						<button v-on:click="decryptWallet">Unlock</button>
						<button class="danger slowStart" v-on:click="state = 'confirmForget'">Forget</button>
					</div>
				</transition>
				<transition name="blobSwitch">
					<div  v-if="state == 'encryptNewWallet'">
						<h1>It's not safe to go without a password!</h1>
						<p>Your avatar will be <span class="avatar">{{user.address | addressToAvatar}}</span></p>
						<input v-on:keyup.enter="encryptWallet" id="encryptPassword" placeholder="Type a password" type="password"/>
						<input v-on:keyup.enter="encryptWallet" id="encryptPasswordVerify" placeholder="Re-type the password" type="password"/>
						<span class="error">{{error}}</span>
						<button v-on:click="encryptWallet">Register</button>
						<button v-on:click="deleteWallet">Back</button>
					</div>
				</transition>

				<transition name="blobSwitch">
					<div  v-if="state == 'confirmForget'">
						<h1>Are you sure?</h1>
						<p><span class="avatar">{{user.address | addressToAvatar}}</span> will be forgotten on this machine, and will require a backup to re-use.</p>
						<button v-on:click="state = 'decryptWallet'">Back to login</button>
						<button class="danger slowStart" v-on:click="deleteWallet">Yes, forget me</button>
					</div>
				</transition>

				<transition name="blobSwitch">
					<div v-if="state == 'initial'">
						<h1>Lucid Guide Toolbox</h1>
						<button v-on:click="createWallet">I am new</button>
						<button class="todo">Login</button>
					</div>
				</transition>
			</div>
		</div>
	<script type="text/javascript" src="/js/web3.js"></script>
	<script type="text/javascript" src="/js/wuf.js"></script>
	<script type="text/javascript" src="/js/vue.min.js"></script>
	<script type="text/javascript" src="/js/avatars.js"></script>
	<script type="text/javascript" src="/js/game.js"></script>
	</body>
</html>

<style>
	.error {color:red;}
	header .avatar {
		margin-top:-10px;
	}
	.avatar {
		transition:all .2s;
		font-size:250%;
	}
	header .avatar:hover {
		cursor:default;
		transform:scale(1.4,1.4);
	}
	.solo {
		cursor:default;
	}
</style>